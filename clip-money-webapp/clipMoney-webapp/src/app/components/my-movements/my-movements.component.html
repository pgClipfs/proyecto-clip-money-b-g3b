<app-navbar></app-navbar>
<div class="container-fluid px-0">
    <img src="../../../assets/images/bank-banner.jpg" class="img-fluid" alt="">
</div>
<ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
    <li [ngbNavItem]="1">
        <a ngbNavLink>Transferir</a>
        <ng-template ngbNavContent>
            <div class="container form-transfer">
                <form [formGroup]="transferForm">
                    <div class="row">
                        <div class="col text-center mx-auto mb-5">
                            <h3>Transfiera al instante</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3 mt-3">
                            Ingrese el CBU del tercero
                        </div>
                        <div class="col-6">
                            <input type="number" class="input-group form-group" [formControl]="transferForm.controls.cvuNumber">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3">
                            Ingrese el monto a transferir
                        </div>
                        <div class="col-6">
                            <input type="number" class="input-group form-group" [formControl]="transferForm.controls.mount">
                        </div>
                    </div>
                    <div class="row text-center">
                        <div class="col-4 mx-auto">
                            <button type="button" class="btn btn-primary text-center w-50" (click)="mostrarModalInfo()">Transferir</button>
                        </div>
                    </div>
                </form>
            </div>
        </ng-template>
    </li>
    <li [ngbNavItem]="2">
        <a ngbNavLink>Girar al descubierto</a>
        <ng-template ngbNavContent>
            <div class="container form-transfer">
                <form action="">
                    <div class="row">
                        <div class="col text-center mx-auto mb-5">
                            <h3>Giro al descubierto</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div *ngIf="giro && openTurn == null" class="col-3">
                            Tiene permitido girar
                        </div>
                        <div class="col-5" *ngIf="openTurn == null">
                            <label type="number" class="input-group form-group">{{calcularMontoGiro()}}</label>
                        </div>
                        <div class="col-5" *ngIf="openTurn != null">
                            <label type="number" class="input-group form-group">Usted ya posee un giro en curso, debe saldarlo para volver a acceder al beneficio</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-3 mx-auto">
                            <button *ngIf="giro" class="btn btn-primary w-100" (click)="girarAlDescubierto()">Girar</button>
                        </div>
                    </div>
                </form>
            </div>
        </ng-template>
    </li>
</ul>

<div [ngbNavOutlet]="nav" class="mt-2"></div>

<ng-template #myModalInfo let-modal>
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Usted esta por transferir a</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="modal.close()">
          <span aria-hidden="true">&times;</span>
        </button>
        </div>
        <div class="modal-body">
            <div class="container">
                <div class="row">
                    <div class="col-12">Nombre: {{userTransfer.NombreUsuario}}</div>
                </div>
                <div class="row">
                    <div class="col-12">Numero de cuenta: {{userTransfer.Cvu}}</div>
                </div>
                <div class="row">
                    <div class="col-12">Monto: {{transferForm.value.mount}}</div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="modal.close('cancel')">Cancel</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="modal.close('save')">OK</button>
        </div>
    </div>
</ng-template>